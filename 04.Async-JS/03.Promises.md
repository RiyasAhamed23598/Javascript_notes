# Promises

- The Promise object represents the eventual completion (or failure) of an asynchronous operation and its resulting value.
- It always produces a single value only.
- A Promise is in one of these states.
- `pending`: initial state, neither fulfilled nor rejected. Async operation has just started.
- `fulfilled`: meaning that the operation was completed successfully.
- `rejected`: meaning that the operation failed.


## How to create a Promise

- We are listening to the asynchronous event and when it complets successfully, we can get the resultant value in the `then` block.
- If the task fails, Promise changes it's state to rejected and value can be retrieved in the `catch` block.

``` javascript

const promise = new Promise((resolve, reject) => {
  // async operation
  setTimeout(() => {
    resolve("I have completed");
  }, 2000);
});

promise.then((data) => {
  console.log(data);
});

```


``` javascript

const promise = new Promise((resolve, reject) => {
  // async operation
  setTimeout(() => {
    reject("Something went wrong");
  }, 2000);
});

promise.catch((data) => {
  console.log(data);
});

```

## Chaining promises

- Whenever we return something from within a `then` block, a new promise is returned with that value.

``` javascript

const promise = new Promise((resolve, reject) => {
  resolve("Hey there");
});

const b = promise.then((data) => data); // returns a new promise with value "Hey there".

b.then((data) => console.log(data));

```

- So, we get a new promise and we know on every promise we can add `then` and `catch` blocks.

``` javascript

const promise = new Promise((resolve, reject) => {
  resolve("Hey there");
});

promise
  .then((data) => data)
  .then((data) => {
    console.log(data);
  });

```

# Why do we need JS Engines

- Computers only understand machine code.
- We need to convert our JS source code to machine code so that our CPU can execute the instructions.
- JS Engines help us convert JS code to machine code and execute it.

## How JS runs on different platforms

- To execute JS we need JS engine.
- We can execute our JS in browsers, servers and IOT devices.
- This is possible because all these platforms have their JS engines.
- We have different JS engines like `Chakra`, `Spider Monkey`, `V8` etc.

## Interpretor (Ignition)

-  An interpreter translates source code into machine code line-by-line or statement-by-statement during runtime.
-  The source code is executed directly by the interpreter, meaning no separate executable is produced.
-  Interpreted programs tend to run slower since the code is being translated and executed in real-time, line by line.
-  We can start executing our program immediately without waiting for it to be compiled first.

## Compilers (Turbo fan)

- A compiler translates the entire source code of a program into machine code in one go.
- After the source code is compiled, the generated machine code is executed by the computer. This means the compiled program can run independently of the compiler.
- Compiled programs generally run faster since the entire code is already translated into machine language before execution.
- Compiler generated machine code is optimized and better performant than interpreted.

## Complier vs interpretor

- A compiler generally takes time to start but the code produced is faster and optimized.
- An interpretor can run rightaway but the output is slower and not optimized.
- JS combines best of both worlds and we get JIT compilation.

## Just in time (JIT) compilation

- Generally code execution is done in two steps. First is the compilation process which generates an executable machine code and then run that executable. This is called Ahead of time (AOT) compilation.
- When you run JavaScript, the engine doesn't compile everything in advance.
- Compilation and execution happens together.
- As interpretor is executing or code it checkes for optimizations and asks the compiler to optimize a piece of code. Since compilation is happening while code execution, it's called JIT.
- Interpretor allows us to run the code right away and compiler helps us optimize that code.


## Is JS interpreted or comlied

- Depends on the engine implmentation.


## The process

- JavaScript source code
- Parser
- Parser converts it into AST.
- AST is then converted to machine code by an interpretor called ignition.
- The optimising compiler is called turbofan which produces optimized machine code.
- That's why we say JS is compiled as well as interpreted.

## Optimising compiler

- It works well if our objects do not change types.
- So, we should avoid changing types of our objects.

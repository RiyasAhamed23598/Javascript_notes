# Why do we need JS Engines

- Computers only understand machine code.
- We need to convert our JS source code to machine code so that our CPU can execute the instructions.
- JS Engines help us convert JS code to machine code and execute it.

## How JS runs on different platforms

- To execute JS we need JS engine.
- We can execute our JS in browsers, servers and IOT devices.
- This is possible because all these platforms have their JS engines.
- We have different JS engines like `Chakra`, `Spider Monkey`, `V8` etc.

## Ways to convert our source code to machine code

## 1. Interpretor (Ignition)

- We give our source code to the interpretor.
- Interpretor starts executing it right away without waiting for it to be compiled first.
- It translates our code to machine code line by line or statement by statement during execution.
- Though, an interpretor can start execution early, it generates slow or unoptimized machine code.

## 2. Compilers (Turbo fan)

- Compilers scan our source code and coverts entire source code into machine code in one go.
- This generated machine code can then be executed by CPU.
- Execution is slower because we first need to compile entire codebase to machine code.
- The outputeed machine code is faster and highly optimized.

## Complier vs interpretor

- A compiler generally takes time to start but the code produced is faster and optimized.
- An interpretor can run rightaway but the output is slower and not optimized.
- JS combines best of both worlds and we get JIT compilation.

## Just in time (JIT) compilation

- Generally code execution is done in two steps. First is the compilation process which generates an executable machine code and then run that executable. This is called Ahead of time (AOT) compilation.
- When you run JavaScript, the engine doesn't compile everything in advance.
- Compilation and execution happens together.
- As interpretor is executing or code it checkes for optimizations and asks the compiler to optimize a piece of code. Since compilation is happening while code execution, it's called JIT.
- Interpretor allows us to run the code right away and compiler helps us optimize that code.


## Is JS interpreted or comlied

- Depends on the engine implmentation.


## The process

- JavaScript source code
- Parser
- Parser converts it into AST.
- AST is then converted to machine code by an interpretor called ignition.
- The optimising compiler is called turbofan which produces optimized machine code.
- That's why we say JS is compiled as well as interpreted.

## Optimising compiler

- It works well if our objects do not change types.
- So, we should avoid changing types of our objects.
